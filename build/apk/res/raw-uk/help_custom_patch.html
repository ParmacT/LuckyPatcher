<body topmargin="0" leftmargin="0" bottommargin="0" rightmargin="0" bgcolor="#000000" style="color:#ffffff">
 
1. Текстовий файл треба називати як і пекедж файлу... Для прикладу у Titanium Backup треба створити таку назву файлу: <b style="color:#36ff00">com.keramidas.TitaniumBackup.txt</b> (обов’язково писати з великої літери та рядкові літери з назви пекеджу, інакше на знайде (Linux - ітітькалатіть)). Якщо файл користувацького патчу для застосунку вже існує, ви можете просто додати на початку назви файлу будь-який тексе та зберегти його поряд з існуючим. В цьому випадку, під час вибору у застосунку "Користувацький патч", Lucky Patcher запропонує вам на вибір список користувацьких патчів для застосунку. Якщо ви замочите написати патч зразу для цілої вервечки програм однієї фірми,  то в кінці назви файлу користувацького патчу, можна використовувати ідентифікатор <b style="color:#36ff00">_%25ALL%25</b> , для прикладу назва файлу для всій голосів SVOX виглядатиме наступним чином: <b>com.svox.classic.langpack_%25ALL%25.txt</b>. На _%25ALL%25 змінюється частина в назві пакету, що міняється залежно від застосунку даної фірми.<br/><br/>
2. Тож тут маємо приклад. Я понапижовував туди все що є в можливостях заст. На практиці вам знадобиться набагато менше функцій. У тулубі файлу пишемо приблизно в наступній формі (розділити лише одинарну прогалину-інакше вдаватиме помилку):<br/><br/>
<table cellpadding="0" cellspacing="0" border="0" style="background-color:#292929">
<tr><td>[BEGIN]</td></tr>
<tr><td>Цей користувацький патч додає троянду в зуби Keramidas. ver.4.4.4</td></tr>
<tr><td>[PACKAGE]</td></tr>
<tr><td>[CLASSES]</td></tr>
<tr><td>{"search":"15 01 00 30 ** 20 ** ** 31 ** 20 ** ** ** ** R0 R1 R2 R3 R4 R5 R6 R7 R8 R9 R10 12 ** R11 R12 R13 0E 00"}</td></tr>
<tr><td>{"search":"10 ** ** ** ** 0C 01 1A 04 R14 R15 1A 05 00 00 72 30 ** ** ** ** 0C 04"}</td></tr>
<tr><td>{"search":"0C 01 1A 03 ** ** 72 30 R16 ** ** ** 72 10"}</td></tr>
<tr><td>&nbsp;</td></tr>	 
<tr><td>{"original":"12 01 22 00 ** 04 ** W0 ** W2 ** W3 22 02 ** 04"}</td></tr>
<tr><td>{"replaced":"** 11 ** ** ** ** W16 ** W16 ** W16 ** ** ** ** **"}</td></tr>
<tr><td> &nbsp;</td></tr> 
<tr><td>{"original":"0c 07 ** ** ** ** ** ** 38 ** ** ** 70"}</td></tr>
<tr><td>{"replaced":"** ** ** ** ** ** ** ** W11 W11 W11 W11 **"}</td></tr>
<tr><td> &nbsp;</td></tr> 
<tr><td>{"original":"12 ** 12 ** 6a ** ** ** 38 ** ** **"}</td></tr>
<tr><td>{"replaced":"** ** ** ** ** ** ** ** 00 00 00 00"}</td></tr>
<tr><td> &nbsp;</td></tr>
<tr><td>[LIB]</td></tr>
<tr><td>{"name":"libtitanium.so"}</td></tr>
<tr><td>{"original":"00 ** 50 e2"}</td></tr>
<tr><td>{"replaced":"00 00 50 e1"}</td></tr>
<tr><td>&nbsp;</td></tr>	 
<tr><td>{"original":"01 0c 80 e2"}</td></tr>
<tr><td>{"replaced":"00 00 a0 e1"}</td></tr>
<tr><td> &nbsp;</td></tr>	 
<tr><td> &nbsp;</td></tr>
<tr><td>[OTHER FILES]</td></tr>
<tr><td>{"name":"/files/shell.dex"}</td></tr>
<tr><td> &nbsp;</td></tr>
<tr><td>{"original":"0F 00 00 00 1A 00 00 00 0F 00 00 00 59 00 00 00 2F"}</td></tr>
<tr><td>{"replaced":"0F 00 00 00 0F 00 00 00 0F 00 00 00 59 00 00 00 2F"}</td></tr>
<tr><td> &nbsp;</td></tr>
<tr><td>[END]</td></tr>
<tr><td>Congratulations! Program cracked!</td></tr>
<tr><td>Run Titanium Backup and check License State!</td></tr>
<tr><td>Good Luck!</td></tr>
<tr><td>Chelpus.</td></tr>
</table>
<br/>
<br/>
Пояснюю тепер що де і як... Хоча мені здається тим кому треба, вже зрозуміли....:<br/>
<br/>
Ну що ж:<br/>
<br/>
<b style="color:#36ff00">[BEGIN]</b> - позначка початку, весь текст після неї та до першого поля [CLASSES], [LIB], [END] тощо буде переміщено в початок користувацького патча.<br/>
<b style="color:#36ff00">[PACKAGE]</b> - ця позначка говорить про те що патчити ми будемо не безпосередньо dalvik-cache, а витягнемо classes.dex з apk програми, пропатчимо (патчами, які йдуть слідом за ідентифікаторами [CLASSES] або [ODEX]), створимо образ odex зі змінами та підсунемо його застосунку. Саме такий образ, наприклад, потрібен TitaniumBuckup, тому що він перевіряє його та всі чек-суми всередині нього мають бути вірними. Цю позначку бажано завжди використовувати, тому що такий патч найбільш правильний. Але якщо це спричиняє які-небуть проблеми, можно і без нього.<br/>
<b style="color:#36ff00">[CLASSES]</b> - тут йдуть рядки для патчу classes.dex. Вони можуть бути пошук(search) та оригінал-заміщене(original-replaced).<br/>
<b style="color:#36ff00">поле original-replaced</b> в original ми вказуємо користувацький байт, який шукаємо в файлі, та заміняємо його на байти з replaced. Значення для цих рядків зазвичай шукають в IDA Pro. Значення байтів в шістнадцятковій  формі, розділені одинарними прогалинаи, де <b style="color:#36ff00">**</b> чи  <b style="color:#36ff00">??</b> - це будь-який байт (потрібен для того аби патч працював на різних версіях застосунку, тому що деякі байти міняються).<br/>
<b style="color:#36ff00">поле search</b> - шукає байти в позиціях помічених R[0, 1, 2, 3, ...], де номер це номер комірки куди зберігається байт (номери комірок повинні йти по-порядку від 0 та далі та не повинні повторюватися).
Для прикладу: {"search":"15 01 00 R0 R1 R2 12 ** 0E 00"} означає що файли на тих позиціях буде збережено до R0, R1, R2. Тепер коли вони знайдені та збережені, можна їх використовувати в шаблонах пошуку зміни, заміняючи  R на W:
тут ** чи ?? – означає будь-який байт, W0, W1, W2 – це збережені байти в search, все інше просто HEX байти. Кількість байт origanal та replaced має обов’язково співпадати. Також обов’язково пам’ятайте що файли dalvik-cache та classes.dex не всі однакові, в цьому ви можете переконатися скопіювавши файл dalvik-cache-а з /data/dalvik-cache/ до себе на ПК та відчинити його в IDA Pro.<br/>
<b style="color:#36ff00">[ODEX]</b> - замість ідентифікатора  [CLASSES], можна використовувати цей. Тоді зміни classes.dex будуть збережені не в dalvik-cache, де вони час від часу зникають після оновлення кешу системи, а в окремому файлі з розширенням odex поряд з apk застосунку, що зафіксує всі зміни та залише оригінальний dalvik-cache незмінним – це на випадок, якщо застосунок його перевіряє. Можна використати [ODEX] після [CLASSES], тоді зміни буде внесено у dalvik-cahce  та автоматично зафіксуються в odex.<br/>
<b style="color:#36ff00">[ODEX-PATCH]</b> - бувають ситуації, коли треба вже пропатчений застосунок, наприклад, у того в якому вже зняли перевірку ліцензії автоматичним патчем. Тоді на поміч приходить ця позначка. Всі шаблони <оригінал-заміщене> після неї будуть застосовані до odex файлу, котрий вже зробить інші патчі. Наприклад, це вперше стало потрібним в Final Fantasy III, коли люди лікували гру Екстремальним режимом вилучення преревірки ліцензії, але щоб переклад відображувався у правильному кодуванню, потрібні були додаткові патчі в odex файлі, які стало можлио застосувати з допомогою цієї позначки.<br/>
<b style="color:#36ff00">[LIB]</b> - це значить, що далі підуть рядки для патчу бібліотеки застосунка, name – це назва бібліотеки.<br/>
<b style="color:#36ff00">[OTHER FILES]</b> - це значить, що далі підуть рядки для патчу файлу який лежить в теці застосунка  /data/data/<назва пакету>, name – це шлях від /data/data/<назва пакета> та назви файлу. Щоб файли там з’явились, потрібно хоч раз запустити застосунок.<br/>
<b style="color:#36ff00">[ADD-BOOT]</b> - Автоматично дадає тоточний користувацький патч в завантажувальний список, щоб патч застосовувався під час кожного перезавантаження. Це потрівбно під час патчення бібліотек які або коли використовуєте [CLASSES] без [ODEX] або без [PACKAGE], через те що патчитися буде dalvik-cache, а він має властивість оновлюватися системою і відповідно всі зміни зникнуть.<br/>
<b style="color:#36ff00">[END]</b> - ідентифікатор кінця шаблону від патчв, весь текст з наступного рядка буде виділено при успішному патченні програми.<br/>
<br/>
Все віредактували, зберігайте та кидайте файл com.keramidas.TitaniumBackup.txt в директорію /sdcard/LuckyPatcher/ ...<br/>

Усе, тепер застосунок підсвічуватиметься жовтим та можна застосувати до неї цей патч.<br/>
<br/>

<br/>
Ящо що, задавайте питання. Успіхів.<br/>
</body>
